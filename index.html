<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="chinese">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="loser的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="loser的博客">
<meta property="og:locale" content="chinese">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="loser的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>loser的博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="chinese">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">loser的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2049/12/01/一些学习计划-置顶/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loser">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loser的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2049/12/01/一些学习计划-置顶/" itemprop="url">一些学习计划[置顶]</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2049-12-01T00:00:00+08:00">
                2049-12-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>这个主要写一些我水水的日常 因为过于垃圾而和大佬们格格不入。。。。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2049/12/01/一些学习计划-置顶/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2049/11/30/C-学习笔记/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loser">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loser的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2049/11/30/C-学习笔记/" itemprop="url">C++学习笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2049-11-30T00:00:00+08:00">
                2049-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>开始学习C++的内容 主要是记载一些自己日常划水学习C++的过程<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2049/11/30/C-学习笔记/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </p></div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/31/开发shellcode的艺术/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loser">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loser的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/31/开发shellcode的艺术/" itemprop="url">开发shellcode的艺术</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-31T08:57:18+08:00">
                2019-07-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>shellcode 这个专用术语来通称缓冲区溢出攻击中植入进程的代码<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/07/31/开发shellcode的艺术/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </p></div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/30/栈溢出原理与实践/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loser">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loser的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/30/栈溢出原理与实践/" itemprop="url">栈溢出原理与实践</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-30T11:35:33+08:00">
                2019-07-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>缓冲区溢出是一种非常普遍、非常危险的漏洞，在各种操作系统、应用软件中广泛存在。利用缓冲区溢出攻击，可以导致程序运行失败、系统宕机、重新启动等后果。更为严重的是，可以利用它执行非授权指令，甚至可以取得系统特权，进而进行各种非法操作。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/07/30/栈溢出原理与实践/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/29/Linux下的一些安装/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loser">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loser的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/29/Linux下的一些安装/" itemprop="url">Linux下的一些安装</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-29T10:31:47+08:00">
                2019-07-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>记录一下自己安装Linux下一些软件的过程 也怕自己给忘了</p>
<h1 id="Pwntools"><a href="#Pwntools" class="headerlink" title="Pwntools"></a>Pwntools</h1><p>首先是权限问题 先让系统又root权限 但是需要输入密码 在网上找了一下 才知道每次系统开机都会随机更新root密码 然后执行下列命令自己更改密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd</span><br></pre></td></tr></table></figure>
<p><img src="1.png" alt=""><br>下来切换用户 输入刚才更改的密码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su -</span><br></pre></td></tr></table></figure></p>
<p>![<a href="2.png"></a><br>下来就是正式进入安装 安装pip<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install python2.7 python-pip python-dev git libssl-dev libffi-dev build-essential</span><br><span class="line">pip install --upgrade pip</span><br></pre></td></tr></table></figure></p>
<p>安装pwntools<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade pwntools</span><br><span class="line">apt-get install python-dev</span><br></pre></td></tr></table></figure></p>
<h1 id="gdb"><a href="#gdb" class="headerlink" title="gdb"></a>gdb</h1><h2 id="安装gdb"><a href="#安装gdb" class="headerlink" title="安装gdb"></a>安装gdb</h2><p>在root权限下进行 一步一步来<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install gdb</span><br></pre></td></tr></table></figure></p>
<h2 id="简单练习"><a href="#简单练习" class="headerlink" title="简单练习"></a>简单练习</h2><p>编写了一个简单的c程序练习了一下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">        int a=1,b=2;</span><br><span class="line">        b=a+b;</span><br><span class="line">        printf(&quot;%d&quot;,b);</span><br><span class="line">        return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>整个过程通过gcc来完成<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc –o a a.c -g</span><br></pre></td></tr></table></figure></p>
<p>进入gdb<br><img src="2.png" alt=""></p>
<h2 id="gdb调试常用命令"><a href="#gdb调试常用命令" class="headerlink" title="gdb调试常用命令"></a>gdb调试常用命令</h2><h3 id="1-用start命令开始执行程序"><a href="#1-用start命令开始执行程序" class="headerlink" title="1.用start命令开始执行程序"></a>1.用start命令开始执行程序</h3><h3 id="2-单步执行-n"><a href="#2-单步执行-n" class="headerlink" title="2.单步执行(n)"></a>2.单步执行(n)</h3><h3 id="3-gdb断点调试-b-行数"><a href="#3-gdb断点调试-b-行数" class="headerlink" title="3.gdb断点调试 b[行数]"></a>3.gdb断点调试 b[行数]</h3><p>例如：b 8是breakpoint  8的简写（breakpoint的参数也可以以是某个函数名，表示在此函数处设置一个断点），表示在程序第八行设置一个断点</p>
<h3 id="4-一次调试可以设置多个断点，用info命令可以查看已经设置的断点"><a href="#4-一次调试可以设置多个断点，用info命令可以查看已经设置的断点" class="headerlink" title="4.一次调试可以设置多个断点，用info命令可以查看已经设置的断点"></a>4.一次调试可以设置多个断点，用info命令可以查看已经设置的断点</h3><h3 id="5-delete"><a href="#5-delete" class="headerlink" title="5.delete"></a>5.delete</h3><p>每个断点都有一个编号（有的断点行数不一样，但地址却一样，有的地方不能够设置断点或者说与上一个设置的断点等效），可以用编号指定删除某个断点。</p>
<h3 id="6-条件断点-（break-和run）"><a href="#6-条件断点-（break-和run）" class="headerlink" title="6.条件断点 （break 和run）"></a>6.条件断点 （break 和run）</h3><p>gdb的断点功能非常灵活，还可以设置断点在满足某个条件时才激活，例如：b 9 if a == 2表示从头开始运行程序，在a==2的条件下中断才有效</p>
<h3 id="7-gdb的观察点（watch-和c）"><a href="#7-gdb的观察点（watch-和c）" class="headerlink" title="7.gdb的观察点（watch 和c）"></a>7.gdb的观察点（watch 和c）</h3><p>断点是当程序执行到某一代码行时中断，而观察点是当程序访问某个存储单元时中断，如果我们不知道某个存储单元是在哪里被改动的，这时候观察点尤其有用。</p>
<h3 id="ni-执行一行汇编代码但不进入函数内部"><a href="#ni-执行一行汇编代码但不进入函数内部" class="headerlink" title="ni: 执行一行汇编代码但不进入函数内部"></a>ni: 执行一行汇编代码但不进入函数内部</h3><h3 id="s：-执行一行源代码而且进入函数内部"><a href="#s：-执行一行源代码而且进入函数内部" class="headerlink" title="s： 执行一行源代码而且进入函数内部"></a>s： 执行一行源代码而且进入函数内部</h3><h3 id="si-执行一行汇编代码而且进入函数内部"><a href="#si-执行一行汇编代码而且进入函数内部" class="headerlink" title="si: 执行一行汇编代码而且进入函数内部"></a>si: 执行一行汇编代码而且进入函数内部</h3><h3 id="c-继续执行到下一个断点"><a href="#c-继续执行到下一个断点" class="headerlink" title="c: 继续执行到下一个断点"></a>c: 继续执行到下一个断点</h3><h3 id="stack-显示栈信息"><a href="#stack-显示栈信息" class="headerlink" title="stack: 显示栈信息"></a>stack: 显示栈信息</h3><h3 id="directory-源码所在目录：加载程序源码"><a href="#directory-源码所在目录：加载程序源码" class="headerlink" title="directory+源码所在目录：加载程序源码"></a>directory+源码所在目录：加载程序源码</h3><h3 id="x-：-按十六进制格式显示内存数据"><a href="#x-：-按十六进制格式显示内存数据" class="headerlink" title="x ： 按十六进制格式显示内存数据"></a>x ： 按十六进制格式显示内存数据</h3><p>其中x/{字节数}x 以16进制显示指定地址处的数据;{字节数}表示字节数制定（b 单字节；h 双字节；w 四字节；g 八字节；默认为四字节</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/25/BUUCTF-reverse1/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loser">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loser的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/25/BUUCTF-reverse1/" itemprop="url">BUUCTF-reverse</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-25T15:27:41+08:00">
                2019-07-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>开始做做简单的CTF逆向的题目 得刷刷题咯 这是开始做BUUCTF逆向的reverse1</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/07/25/BUUCTF-reverse1/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/24/调试练习4：Debug-Blocker/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loser">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loser的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/24/调试练习4：Debug-Blocker/" itemprop="url">调试练习4：Debug Blocker</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-24T08:49:27+08:00">
                2019-07-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Debug Blocker是众多反调试技术之一 常应用在一些PE保护器中</p>
<h1 id="Debug-Blocker"><a href="#Debug-Blocker" class="headerlink" title="Debug Blocker"></a>Debug Blocker</h1><p>Debug Blocker技术是进程以调试运行自身或其他可执行的文件<br>下图是程序运行的画面 应用了Debug Blocker技术 父进程DebugMe4.exe（PID:3812）是调试器 子进程DebugMe4.exe（PID:2352）是被调试者 且DebugMe4.exe程序作为调试器与被调试者分别执行不同的代码</p>
<p><img src="1.png" alt=""></p>
<h1 id="反调试的特征"><a href="#反调试的特征" class="headerlink" title="反调试的特征"></a>反调试的特征</h1><h2 id="父与子的关系"><a href="#父与子的关系" class="headerlink" title="父与子的关系"></a>父与子的关系</h2><p>调试器与被调试者关系中,调试进程与被调试进程首先是一种父子关系 调试比较困难</p>
<h2 id="被调试进程不能再被其他调试器调试"><a href="#被调试进程不能再被其他调试器调试" class="headerlink" title="被调试进程不能再被其他调试器调试"></a>被调试进程不能再被其他调试器调试</h2><p>Windows操作系统中，同一进程 是无法同时被多个调试进程调试的。也就是说，图中的子进程(被调试进程PID: 2352 )不能再附加到OllyDbg调试器。若想调试被调试进程( PID: 2352 ),必须先切断原调试器与被调试者的关系。</p>
<h2 id="终止调试进程的同时也终止被调试进程"><a href="#终止调试进程的同时也终止被调试进程" class="headerlink" title="终止调试进程的同时也终止被调试进程"></a>终止调试进程的同时也终止被调试进程</h2><p>强制终止调试进程(PID:3812)以切断调试器-被调试者关系时，被调试进程也会同时终止。这样就陷入了两难境地:一方面,要调试被调试进程,必须先终止调试进程,切断二者关联;另一方面,终止调试进程时被调试进程也会终止，导致无法调试</p>
<h2 id="调试器操作被调试者的代码"><a href="#调试器操作被调试者的代码" class="headerlink" title="调试器操作被调试者的代码"></a>调试器操作被调试者的代码</h2><p>Debug Blocker技术中，调试器用来操纵被调试进程的运行分支，生成或修改执行代码等。并且，调试器会对被调试进程的代码运行情况产生持续影响。换言之，缺少调试进程的前提下，仅凭被调试进程无法正常运行。</p>
<h2 id="调试器处理被调试进程中发生的异常"><a href="#调试器处理被调试进程中发生的异常" class="headerlink" title="调试器处理被调试进程中发生的异常"></a>调试器处理被调试进程中发生的异常</h2><p>调试器被调试者关系中，被调试进程中发生的所有异常均由调试器处理。被调试进程中故意触发某个异常(如:内存非法访问异常)时，若该异常未得到处理，则代码将无法继续运行，被调试进程中发生的异常必须在调试器进程中处理。</p>
<p>被调试进程中发生异常时，进程会暂停,控制权转移到调试进程。此时调试器可以修改被调试者的执行分支，此外也可以对被调试进程内部的加密代码解密，或者向寄存器、栈中存人某些特定值等</p>
<p><img src="2.png" alt=""></p>
<h1 id="调试练习（第一次）"><a href="#调试练习（第一次）" class="headerlink" title="调试练习（第一次）"></a>调试练习（第一次）</h1><p>目的在于把握程序整体结构</p>
<h2 id="选定调试的起始位置"><a href="#选定调试的起始位置" class="headerlink" title="选定调试的起始位置"></a>选定调试的起始位置</h2><p>由上面可以知道 DebugMe4.exe是一个基于控制台的程序 我们首先找到调试起始位置为main()函数 此外 还经常使用的查找核心的方法由：1.借助程序内部使用的字符串2.预测程序中调用的Win32API并设置断点</p>
<h2 id="main"><a href="#main" class="headerlink" title="main()"></a>main()</h2><p><img src="3.png" alt=""><br>DebugMe4的互斥对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">00401009   call    near dword ptr ds:[&lt;&amp;KERNEL32.Cr&gt;; \CreateMutexW</span><br></pre></td></tr></table></figure></p>
<p>CreateMutexW()API正常返回后 调用GetLastError（）获取Last Eror 再将其与B7（ERROR_ALREADY_EXISTS）比较</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0040102A    call    near dword ptr ds:[&lt;&amp;KERNEL32.Ge&gt;; [GetLastError</span><br><span class="line">00401030    cmp     eax, 0xB7</span><br></pre></td></tr></table></figure>
<p>以上代码通过互斥体对象来检测进程是否重复运行。DebugMe4.exe作为父进程运行并正常创建名为“ReverseCore: DebugMe4”的互斥体对象后，Last Error值为0。但其作为子进程运行时，由于父进程中已经创建并存在同名互斥体对象，所以Last Error值为B7。利用这一原理，我们可以判断出DebugMe4.exe进程是以父进程形式运行，还是以子进程形式运行。若以父进程形式运行(初次创建互斥体对象，Last Error=0 ),则转到401037地址处;若以子进程形式运行(存在同名互斥体，Last Error=B7 ),则转到40103F地址处。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">00401035      je      short DebugMe4.0040103F</span><br><span class="line">00401037      call    DebugMe4.00401060</span><br><span class="line">0040103C      xor     eax, eax</span><br><span class="line">0040103E      retn</span><br><span class="line">0040103F      lea     eax, eax</span><br></pre></td></tr></table></figure>
<p>由于程序当前以父进程形式运行 所以会调用401160地址处的函数 401060地址处 401160地址处的函数代码相当长 简单浏览函数代码 确定图中出现的子进程是以何种方式出现的</p>
<p><img src="4.png" alt=""><br>跟踪进入401160函数，遇到调用CreateProcessW(函数的代码，该函数使用DEBUG_PROCESSIDEBUG_ ONLY_ <em>THIS</em> PROCESS参数(调试模式)创建自身进程。DebugMe4.exe以子进程形式运行自身进程，以Debug模式运行后，父进程为调试器，子进程为被调试者。最后，将以上内容归纳如下:</p>
<p>1.通过名为“ReverseCore: DebugMe4”的互斥体对象区分父进程与子进程<br>2.父子进程中存在执行分支代码(父进程: 401037， 子进程: 40103F );<br>3.父子进程的关系为调试器与被调试者的关系</p>
<h1 id="调试练习（第二次）"><a href="#调试练习（第二次）" class="headerlink" title="调试练习（第二次）"></a>调试练习（第二次）</h1><p>应用了Debug Blocker技术的程序中 核心代码一般都在子进程（Debuggee）中运行 我们操纵基于互斥体的条件分支 调试要在子进程形式下运行的代码 重新打开程序 修改位于40103F地址处的标志位 将ZF修改为1</p>
<p><img src="5.png" alt=""><br>然后跳转到下面代码处 执行这行代码就会触发非法指令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0040103F       lea     eax, eax</span><br></pre></td></tr></table></figure></p>
<p><img src="6.png" alt=""><br>LEA指令的第一个操作数为寄存器 第二个操作数为内存 常见如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LEA	EAX,DWORD PTR DS：[12FF48]	;执行后12FF48地址就被储存在EAX寄存器</span><br></pre></td></tr></table></figure></p>
<p>观察40103F地址处的指令( LEA EAX,EAX),其第二个操作数不是内存而是寄存器( EAX )(与EAX值无关),导致指令格式发生错误。通过IA-32操作码映射可以随意组合出类似的错误指令，CPU无法正常执行它们。代码逆向分析中，我们可以借助这些错误指令故意触发非法指令异常。在子进程( 被调试者)中执行40103F地址处的错误指令( LEA EAX,EAX)时，就会触发非法指令异常，控制权将转移到父进程(调试器)。获得控制权后，父进程会处理子进程中发生的异常，同时还会做一些其他事情。在图57-5中观察从401041地址开始的指令，可以发现它们并不是正常形式的指令( 0OllyDbg无法反汇编这些代码)，看上去就像是加了密的代码。我们只能大致猜想:父进程(调试器)获取控制权后可能会使用这些指令对加密的代码解密，或者将执行分支修改为其他地址。到这里，我们已经不能继续采用这种方式调试了。要继续调试程序,必须详细分析父进程(调试器)的运行代码，除此之外别无他法。第二次调试的结果整理如下:</p>
<p>1.子进程(被调试者)的运行代码中存在故意触发异常的代码<br>2.后面代码为非正常代码(加密代码、数据、无意义的代码)<br>3.必须详细分析父进程(调试器)的运行代码。</p>
<h1 id="调试练习（第三次）"><a href="#调试练习（第三次）" class="headerlink" title="调试练习（第三次）"></a>调试练习（第三次）</h1><p>下面分析父进程（401060）函数 进入该函数 程序运行到40115C处<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">0040115C  |.  8D4424 10     lea     eax, dword ptr ss:[esp+0x10]</span><br><span class="line">00401160  |.  50            push    eax                              ; /pProcessInfo = NULL</span><br><span class="line">00401161  |.  8D4C24 24     lea     ecx, dword ptr ss:[esp+0x24]     ; |</span><br><span class="line">00401165  |.  51            push    ecx                              ; |pStartupInfo = 0012FFB0</span><br><span class="line">00401166  |.  56            push    esi                              ; |CurrentDir = 0012B77C ???</span><br><span class="line">00401167  |.  56            push    esi                              ; |pEnvironment = 0012B77C</span><br><span class="line">00401168  |.  6A 03         push    0x3                              ; |CreationFlags = DEBUG_PROCESS|DEBUG_ONLY_THIS_PROCESS</span><br><span class="line">0040116A  |.  56            push    esi                              ; |InheritHandles = TRUE</span><br><span class="line">0040116B  |.  56            push    esi                              ; |pThreadSecurity = 0012B77C</span><br><span class="line">0040116C  |.  56            push    esi                              ; |pProcessSecurity = 0012B77C</span><br><span class="line">0040116D  |.  8D9424 D80300&gt;lea     edx, dword ptr ss:[esp+0x3D8]    ; |</span><br><span class="line">00401174  |.  52            push    edx                              ; |CommandLine = &quot;跃?&quot;</span><br><span class="line">00401175  |.  56            push    esi                              ; |ModuleFileName = 0012B77C ???</span><br><span class="line">00401176  |.  FF15 0C804000 call    near dword ptr ds:[&lt;&amp;KERNEL32.Cr&gt;; \CreateProcessW</span><br><span class="line">0040117C  |.  85C0          test    eax, eax</span><br><span class="line">0040117E  |.  75 29         jnz     short DebugMe4.004011A9</span><br><span class="line">00401180  |.  FF15 1C804000 call    near dword ptr ds:[&lt;&amp;KERNEL32.Ge&gt;; [GetLastError</span><br><span class="line">00401186  |.  50            push    eax</span><br><span class="line">00401187  |.  68 389A4000   push    DebugMe4.00409A38                ;  ASCII &quot;CreateProcess() failed! [%d]\n&quot;</span><br><span class="line">0040118C  |.  E8 B4010000   call    DebugMe4.00401345</span><br><span class="line">00401191  |.  83C4 08       add     esp, 0x8</span><br><span class="line">00401194  |.  5F            pop     edi                              ;  kernel32.7C816037</span><br><span class="line">00401195  |.  5E            pop     esi                              ;  kernel32.7C816037</span><br><span class="line">00401196  |.  5B            pop     ebx                              ;  kernel32.7C816037</span><br><span class="line">00401197  |.  8B8C24 B80500&gt;mov     ecx, dword ptr ss:[esp+0x5B8]</span><br><span class="line">0040119E  |.  33CC          xor     ecx, esp</span><br><span class="line">004011A0  |.  E8 91010000   call    DebugMe4.00401336</span><br><span class="line">004011A5  |.  8BE5          mov     esp, ebp</span><br><span class="line">004011A7  |.  5D            pop     ebp                              ;  kernel32.7C816037</span><br><span class="line">004011A8  |.  C3            retn</span><br><span class="line">004011A9  |&gt;  68 589A4000   push    DebugMe4.00409A58                ;  ASCII &quot;Parent Process\n&quot;</span><br><span class="line">004011AE  |.  E8 92010000   call    DebugMe4.00401345</span><br><span class="line">004011B3  |.  6A 60         push    0x60</span><br><span class="line">004011B5  |.  8D4424 70     lea     eax, dword ptr ss:[esp+0x70]</span><br><span class="line">004011B9  |.  56            push    esi</span><br><span class="line">004011BA  |.  50            push    eax</span><br><span class="line">004011BB  |.  E8 F03D0000   call    DebugMe4.00404FB0</span><br><span class="line">004011C0  |.  83C4 10       add     esp, 0x10</span><br><span class="line">004011C3  |.  6A FF         push    -0x1                             ; /Timeout = INFINITE</span><br><span class="line">004011C5  |.  8D4C24 6C     lea     ecx, dword ptr ss:[esp+0x6C]     ; |</span><br><span class="line">004011C9  |.  51            push    ecx                              ; |pDebugEvent = 0012FFB0</span><br><span class="line">004011CA  |.  FF15 24804000 call    near dword ptr ds:[&lt;&amp;KERNEL32.Wa&gt;; \WaitForDebugEvent</span><br></pre></td></tr></table></figure></p>
<p>401176地址处调用了CreateProcessW（）API 以调用模式运行自身进程 然后在4011CA地址处调用WaitForDebugEvent（）API 等待被调试进程发生Debug事件 WaitForDebugEvent（）API定义如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">BOOL WaitForDebugEvent(</span><br><span class="line">  LPDEBUG_EVENT lpDebugEvent,</span><br><span class="line">  DWORD         dwMilliseconds</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>第一个参数指向event结构，这个结构描述了一个调试事件，第二个参数为等待事件的毫秒数。返回一个BOOL值</p>
<p>若调用WaitForDebugEvent() API,将在指定时间内( dwMlliseconds )等待被调试进程发生Debug事件(异常也是一种Debug事件 )。 被调试进程发生异常时,将返回WaitForDebugEvent() API,然后，相关异常信息就会填充到lpDebugEvent指针所指的DEBUG EVENT结构体。下面仔细看看DEBUG_ EVENT结构体</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">  typedef struct _DEBUG_EVENT &#123;</span><br><span class="line">  DWORD dwDebugEventCode;</span><br><span class="line">  DWORD dwProcessId;</span><br><span class="line">  DWORD dwThreadId;</span><br><span class="line">  union &#123;</span><br><span class="line">    EXCEPTION_DEBUG_INFO      Exception;</span><br><span class="line">    CREATE_THREAD_DEBUG_INFO  CreateThread;</span><br><span class="line">    CREATE_PROCESS_DEBUG_INFO CreateProcessInfo;</span><br><span class="line">    EXIT_THREAD_DEBUG_INFO    ExitThread;</span><br><span class="line">    EXIT_PROCESS_DEBUG_INFO   ExitProcess;</span><br><span class="line">    LOAD_DLL_DEBUG_INFO       LoadDll;</span><br><span class="line">    UNLOAD_DLL_DEBUG_INFO     UnloadDll;</span><br><span class="line">    OUTPUT_DEBUG_STRING_INFO  DebugString;</span><br><span class="line">    RIP_INFO                  RipInfo;</span><br><span class="line">  &#125; u;</span><br><span class="line">&#125; DEBUG_EVENT, *LPDEBUG_EVENT;</span><br><span class="line"></span><br><span class="line">//dwDebugEventCode</span><br><span class="line">EXCEPTION_DEBUG_EVENT		//报告异常调试事件。u.Exception的值指定 EXCEPTION_DEBUG_INFO结构。</span><br><span class="line">CREATE_THREAD_DEBUG_EVENT	//报告创建线程调试事件。u.CreateThread的值指定CREATE_THREAD_DEBUG_INFO 结构。</span><br><span class="line">CREATE_PROCESS_DEBUG_EVENT	//报告创建进程调试事件。u.CreateProcessInfo的值 指定CREATE_PROCESS_DEBUG_INFO 结构。</span><br><span class="line">EXIT_THREAD_DEBUG_EVENT		//报告退出线程调试事件。u.ExitThread的值指定 EXIT_THREAD_DEBUG_INFO结构。</span><br><span class="line">EXIT_PROCESS_DEBUG_EVENT	//报告退出进程调试事件。u.ExitProcess的值指定EXIT_PROCESS_DEBUG_INFO 结构。</span><br><span class="line">LOAD_DLL_DEBUG_EVENT		//报告load-dynamic-link-library（DLL）调试事件。u.LoadDll的值 指定 LOAD_DLL_DEBUG_INFO结构。</span><br><span class="line">UNLOAD_DLL_DEBUG_EVENT		//报告卸载DLL调试事件。u.UnloadDll的值指定 UNLOAD_DLL_DEBUG_INFO结构。</span><br><span class="line">OUTPUT_DEBUG_STRING_EVENT	//报告输出调试字符串调试事件。u.DebugString的值 指定OUTPUT_DEBUG_STRING_INFO 结构。</span><br><span class="line">RIP_EVENT					//报告RIP调试事件（系统调试错误）。u.RipInfo的值 指定RIP_INFO结构。</span><br></pre></td></tr></table></figure>
<p>dwDebugEventCode成员用来指示Debug事件类型，共有9种Debug事件。u成员保存着与各Debug事件对应的结构体( u成员为union类型，将9个结构体联合在一起)。比如，dwDebugEventCode=1 ( EXCEPTION DEBUG_ EVENT )时，u.Exception成 员会被保存起来;dwDebugEventCode=3 ( CREATE PROCESS_ DEBUG_ EVENT)时，u.CreateProcessInfo即 被保存:下来。如图下图所示，继续调试程序到4011CA地址处。</p>
<p><img src="7.png" alt=""><br>pDebugEvent所指地址为12F9D8<br>执行4011CA地址处的指令 调用WaitForDebugEvent（）API 然后查看12FA10地址中储存的值 dwDebugEventCode值为3 他是被调试进程运行时最初发生的事件<br><img src="8.png" alt=""><br>继续往下调试可以看到分支代码<br><img src="9.png" alt=""><br>4011 F0地址迯的MOV指令中, [ESP+68]内12F9D8。将该值送到EAX寄存器后,再在4011F4地址処的指令中將其与1 ( EXCEPTION_ DEBUG_ EVENT)比较。由于当前dwDebugEventCode値カ3，所以將扎行4011F7地址姓的JNZ指令，跳装到4012C0地址处，如图所示。</p>
<p><img src="10.png" alt=""><br>在4012C0地址处再次将EAX ( dwDebugEventCode )值与5 ( EXIT PROCESS DEBUG_EVENT)比较。由于当前EAX值为3,所以跳过4012C3地址处的JE指令，继续执行。在4012D4地址处调用ContinueDebugEvent() API,继续运行处于暂停状态的被调试进程。然后调用4012F2地址处的WaitForDebugEvent() API,进人等待状态，等待被调试进程发生Debug事件。再次发生Debug事件时，就转到上上图中的401 1F0地址处( 4011F0~ 4012FA地址间的代码为循环代码)。观察上上图中4011F0~4011F7地址间的指令代码可知，该循环用来等待来自被调试者的EXCEPTION DEBUG_ EVENT(1)异常。只要集中调试这种情况就可以了，最简单的方法就是，先在4011FD地址处设置断点(F2)，再按F9键运行。被调试者中发生EXCEPTION DEBUG_EVENT(1)时，循环就会准确停在4011FD地址处。另外一种方法是，在4011FD地址处设置条件记录(Conditional Log)断点( SHIFT+F4),输出用户日志，然后根据条件停止运行。这一方法有助于把握整个程序的工作原理，使程序调试更加轻松，唯一的不足是调试耗费时间较长。</p>
<h1 id="调试练习（第四次）"><a href="#调试练习（第四次）" class="headerlink" title="调试练习（第四次）"></a>调试练习（第四次）</h1><p>下来借助OD的CLBP（条件记录断点）功能分析4011F0~4012FA地址间循环代码的执行流程 首先输出被调试者中发生的所以Debug事件 重新加载程序 转到40111F0处 按SHIFT+F4 打开设置CLBP对话框</p>
<p><img src="11.png" alt=""><br>Condition项用来输人所需条件(该项可选)。在上图中输人条件表达式，检测dwDebugEventCode是否为1 ( EXCEPTION_ DEBUG_ EVENT ) ( 12F9D8是在图57-7中获取的DEBUG_ EVENT结构体的起始地址。DWORD PTR DS:[12F9D8]表示DEBUG_ EVENT.dwDebug-EventCode成员)</p>
<p>Explanation与Expression项用来输人要输出至Log窗口中的内容。<br>将Pause program项设置为Never时,程序将会一- 直执行到最后。将Log value of expression项设置为Always时，总是输出日志，不受指定条件的约束。</p>
<p>在设置CLBP对话框中进行相应设置后，单击0K按钮，即在相应地址处( 4011F0)设置好CLBP,显示为粉红色，以便与红色的断点区分开来。Breakpoints窗 口的Active栏显示出图57-12中Explanation项的内容(参考图57-13 )。然后执行OllyDbg调试器中的“Run” 命令(F9键),使DebugMe4.exe正常运行,输出下图所示的运行日志。</p>
<p><img src="12.png" alt=""><br>然后查看输出日志可以看到被调试进程总共发生3次EXCEPTION_DEBUG_EVENT(1)</p>
<h1 id="调试练习（第五次）"><a href="#调试练习（第五次）" class="headerlink" title="调试练习（第五次）"></a>调试练习（第五次）</h1><p>下面集中调试EXCEPTION_DEBUG_EVENT(1)事件重新载入程序 在4011F0地址处设置CLBP：<br><img src="13.png" alt=""><br>在Pause program项中选On condition 满足指定条件时 程序将暂停 在Log value of expression项中点选On condition 只有在满足指定条件时 才会输出日志</p>
<h2 id="系统断点"><a href="#系统断点" class="headerlink" title="系统断点"></a>系统断点</h2><p>设置好断点后 按F9运行程序 程序停在4011f0地址处 继续跟踪 程序运行至4011FD处<br><img src="14.png" alt=""><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ESP+68]=[12F9D8]=DEBUG_EVENT.dwDebugEventCode</span><br><span class="line">[ESP+74]=[12F9E4]=DEBUG_EVENT.EXCEPTION_DEBUG_INFO.EXCEPTION_RECORD.ExceptionCode</span><br><span class="line">[ESP+80]=[12F8F0]=DEBUG_EVENT.EXCEPTION_DEBUG_INFO.EXCEPTION_RECORD.ExceptionAddress</span><br></pre></td></tr></table></figure></p>
<p>这意味着当前被调试进程在77A004F6(ExceptionAddress)地址处发生了80000003( ExceptionCode-EXCEPTION BREAKPOINT)异常。查看77A004F6地址处的指令可以看到，它是nll.dI1模块的系统断点。程序以被调试者身份运行时，必定会触发该异常，如图所示。</p>
<p><img src="15.png" alt=""></p>
<h2 id="EXCEPTION-ILLEGAL-INSTRUCTION-1"><a href="#EXCEPTION-ILLEGAL-INSTRUCTION-1" class="headerlink" title="EXCEPTION_ILLEGAL_INSTRUCTION(1)"></a>EXCEPTION_ILLEGAL_INSTRUCTION(1)</h2><p>再次运行代码又停在了这里<br><img src="16.png" alt=""><br>如图所示，ExceptionCode=C000001D ( EXCEPTION ILLEGAL INSTRUCTION ),ExceptionAddress=40103F。这表明被调试进程的40103F地址处发生了EXCEPTIONILLEGAL INSTRUCTION错误。第二次调试中，我们已经知道40103F地址处的指令为LEAEAX,EAX, 这是条错误指令。被调试进程遇到40103F处的错误指令时，就会触发非法指令异常。上图代码中有3个条件分支代码，如下所示:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">004011F0 &gt;|&gt; /8B4424 68     /mov     eax, dword ptr ss:[esp+0x68]</span><br><span class="line">004011F4  |. |83F8 01       |cmp     eax, 0x1</span><br><span class="line">004011F7  |. |0F85 C3000000 |jnz     DebugMe4.004012C0</span><br><span class="line">004011FD  |. |817C24 74 1D0&gt;|cmp     dword ptr ss:[esp+0x74], 0xC000&gt;</span><br><span class="line">00401205  |. |0F85 BA000000 |jnz     DebugMe4.004012C5</span><br><span class="line">0040120B  |. |8B8424 800000&gt;|mov     eax, dword ptr ss:[esp+0x80]    ;  DebugMe4.0040103F</span><br><span class="line">00401212  |. |3D 3F104000   |cmp     eax, DebugMe4.0040103F</span><br><span class="line">00401217  |. |0F85 7C000000 |jnz     DebugMe4.00401299</span><br><span class="line">0040121D  |. |8B4424 10     |mov     eax, dword ptr ss:[esp+0x10]</span><br></pre></td></tr></table></figure>
<p>若3个条件都满足，则执行40121D地址处的指令代码(只要有一个条件不满足，就跳转到其他地方)。由此可见，第一个EXCEPTION_ ILLEGAL INSTRUCTION异常发生后,就会执行40121D地址处的指令代码。并且出现了一段很明显的代码,用来处理被调试进程中的异常并再次运行它(稍后将详细分析)。从 (第四次调试)中可以知道，EXCEPTION DEBUG EVENT共发生了3次，所以后面应该还有1次EXCEPTION DEBUG_ EVENT。接下来按F9键继续运行。</p>
<h2 id="EXCEPTION-ILLEGAL-INSTRUCTION-2"><a href="#EXCEPTION-ILLEGAL-INSTRUCTION-2" class="headerlink" title="EXCEPTION_ILLEGAL_INSTRUCTION(2)"></a>EXCEPTION_ILLEGAL_INSTRUCTION(2)</h2><p>第三个EXCEPTION_ DEBUG_ EVENT发生于401048地址处，ExceptionCode 与之前相同，为EXCEPTION_ ILLEGAL INSTRUCTION。401048地址处的指令并非正常形式的IA-32指令，看上去像是加密后的代码。下图中， 401212~401217地址处的CMP/NZ指令组合(条件分支语句)使程序执行跳转到401299地址处。 也就是说，发生第二个EXCEPTION_ILLEGAL_ INSTRUCTION异常后，会运行401299地址处的指令代码。在此状态下运行OllyDbg调试器的“RUN” ( F9 )命令将弹出消息框，显示字符串“Child Process”， 如图57-1所示(表明被;调试进程得以正常运行)。</p>
<p><img src="17.png" alt=""><br>综合以上分析得知，被调试进程中共发生2次EXCEPTION_ ILLEGAL INSTRUCTION异常，之后程序分别跳转到调试器进程中的40121D、401299地址处，继续执行代码。接下来，只要调试这2处代码就能准确把握程序的工作原理。</p>
<h1 id="调试练习（第六次）"><a href="#调试练习（第六次）" class="headerlink" title="调试练习（第六次）"></a>调试练习（第六次）</h1><h2 id="40121D-第一个异常"><a href="#40121D-第一个异常" class="headerlink" title="40121D(第一个异常)"></a>40121D(第一个异常)</h2><p>如前所述，发生第一个EXCEPTION ILLEGAL INSTRUCTION异常时，将执行40121D地址处的代码。下 面先调试该地址处的代码。重启OllyDbg调试器( 快捷键Ctr1+F2 ),在40121D地址处设置断点，再按F9键运行。程序停在40121D地址处，继续跟踪调试到401233地址处，遇到调用ReadProcessMemory() API的代码，如图所示。</p>
<p><img src="18.png" alt=""><br>在401233地址处调用ReadProcessMemory()API 从被调试进程的401041地址处读取14H字节大小的数据</p>
<p><img src="27.png" alt=""><br>执行完ReadProcessMemory()API的指令后 在401240地址处见到XOR解码循环</p>
<p><img src="19.png" alt=""><br>首先调用ReadProcessMemory( API，将读取的指令代码(处于加密状态)放人缓冲区( 12FD08~12FD1B ),然后运行解码循环，解密缓冲区中的指令代码,查看缓冲区，如图所示为解密后的代码。</p>
<p><img src="20.png" alt=""><br>从图中看到，解密后的指令代码像是程序运行命令的一部分。解密后的指令代码中，先引用;“DebugMe4”字符串地址( 409A08 )的指令，然后12FD0F地址处又出现了LEA EAX,EAX非法指令，从12FD11地址开始，指令代码看上去好像又发生了错乱。图57-22中的解码循环执行完毕后，再调用WriteProcessMemory()API将解码后的指令代码覆写到被调试进程的同一地址空间( 401041~401054 )，如下图所示。</p>
<p><img src="21.png" alt=""><br>从调试角度看 加密区域已经被解密了<br>继续调试。如下图所示， 401266~401295地址间的指令代码用于修改被调试进程的EIP值(准确地说，是主线程上下文的EIP值)。</p>
<p>在40127E地址处调用GetThreadContext() API,读取被调试进程的主线程的CONTEXT结构体，并将读到的数据信息放人其第二个参数pContext指示的缓冲区( pContext=12FA38 )。</p>
<p>当前被调试进程的EIP地址为40103F(发生第一个EXCEPTION ILLEGAL INSTRUCTION异常的地址)。401284地址处的ADD指令将当前EIP值加2,存入pContext- +Eip, 此时其值为401041。这样就处理了被调试进程40103F地址处发生的EXCEPTION ILLEGAL INSTRUCTION异常 。</p>
<p><img src="22.png" alt=""><br>在401295地址处调用SetThreadContext()API 向Eip中放入新值（401041） 然后跳转到4012C5地址处继续执行</p>
<p><img src="23.png" alt=""><br>在4012D4地址处调用ContinueDebugEvent() API，使处于暂停状态的被调试进程再次运行起来(被调试进程运行401041地址处的代码)。然后再调用4012F2地址处的WaitForDebugEvent()API,进人等待状态，等待被调试进程发生Debug事件。</p>
<p>综上所述，被调试进程中发生第-一个EXCEPTION ILLEGAL INSTRUCTION异常时，就会执行调试进程中的处理代码( 40121D)。40121D地址处代码的执行流程整理如下:</p>
<p><strong>1.普通异常(被调试者/被调试进程)</strong><br>首先，在被调试进程的40103F地址处，由LEA EAX,EAX指令触发EXCEPTION ILLEGALINSTRUCTION异常。此时被调试进程暂停，将控制权转移给调试进程(更准确地说，返回调试进程中调用的WaitForDebugEvent() API )。</p>
<p><strong>2.解码循环(调试器)</strong><br>调试器从被调试进程读取401041~401054内存区域中的数据，并使用XOR ( 7F )指令解码,将解码后的实际代码覆写到被调试进程的同-块内存区域，如图所示。</p>
<p><img src="24.png" alt=""><br><strong>3.修改EIP（调试器）</strong><br>修改被调试进程的代码执行地址（EIP:40103F–&gt;401041）</p>
<p><strong>4.继续运行被调试进程( 调试器)</strong><br>调试器处理完40103F地址处发生的异常后，会使被调试进程再次运行起来。然后进入“待机”模式，继续等待来自被调试进程的异常。</p>
<pre><code>请注意!被调试进程要运行的代码地址为401041。
</code></pre><h2 id="401299-第二个异常"><a href="#401299-第二个异常" class="headerlink" title="401299(第二个异常)"></a>401299(第二个异常)</h2><p>发生第二个EXCEPTION_ ILLEGAL INSTRUCTION异常时，程序将执行401299地址处的代码。首先在401299地址处设 置断点。在图中调用WaitForDebugEvent() API ( 401299地址处)分代码按F9继续运行程序 程序就会在401299处暂停</p>
<p><img src="25.png" alt=""><br>从401299地址开始继续跟踪调试，在4012BC地址处 见到调用WriteProcessMemory() API的代码。401299 地址处的EAX寄存器表示被调试进程中发生异常( EXCEPTION ILLEGAL_INSTRUCTION)的地址( 401048 ) 当前被调试进程的401048地址处的指令为LEA EAX,EAX,被调试进程执行该非法指令时会再次触发异常。在上图的4012BC地址处调用WriteProcessMemory( API,将被调试进程的401048地址处的2个字节( 8DC0,LEA EAX,EAX)修改为681C ( PUSH XXXX指令)。</p>
<p>接下来，在OllyDbg中使用StepOver命令(快捷键F8 )执行完调用WriteProcessMemory( API的指令,程序跳转到4012C5地址处。然后调用ContinueDebugEvent()继续运行被调试进程，再调用WaitForDebugEvent()进人 “待机”模式，等待被调试进程发生异常。以上过程与前面中介绍的是一样的。</p>
<p>最后 被调试进程正常运行 弹出消息框 总结如下<br><strong>1.普通异常（被调试者）</strong><br>首先 在被调试进程的401048地址处又LEA EAX，EAX指令触发EXCEPTION_ILLEGAL_INSTRUCTION异常<br><strong>2.代码补丁(调试器)</strong><br>调用WriteProcessMemory（）API 将651C覆写到被调试进程的401048~401049内存区域 681C是PUSH指令的一部分 被调试进程的最终代码<br><strong>3.继续运行被调试进程（调试器）</strong><br>处理完异常后 调试器会再次运行被调试进程 然后进入“待机”状态 等待被调试进程发生异常</p>
<h1 id="调试练习（第七次）"><a href="#调试练习（第七次）" class="headerlink" title="调试练习（第七次）"></a>调试练习（第七次）</h1><p>有时候我们针对这种技术 需要直接调试它的子进程</p>
<h2 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h2><p>首先详细分析调试进程，得到解码代码,然后直接修改程序的PE文件或进程内存，从而达到用OllyDbg调试器调试的目的。第二次调试失败的原因就在于,被调试进程要运行的代码(401041)处于加密状态。先将这些代码解码,再将解码后的代码覆写到原区域，这样就能轻松调试程序了。具体操作过程中，我们既可以直接使用Hex Editor修改DebugMe4.exe文件，也可以直接使用调试器修改进程内存。下面将采用“使用OllyDbg调试器直接修改进程内存”的方法，使程序可以正常调试。借助第二次调试中使用的方法，将程序调试运行到40103F地址处。</p>
<h2 id="动态方法"><a href="#动态方法" class="headerlink" title="动态方法"></a>动态方法</h2><p>与静态方法相比，动态方法更有意思。使用动态方法的大致顺序如下:<br>(1)使用OllyDbg调试父进程( 调试器),调试运行到要分析的地方(或者子进程代码完成解码的地方);<br>(2)在子进程( 被调试进程)中要分析的代码处设置无限循环; .<br>(3)将父进程(调试器)从子进程(被调试进程)中分离(Detach);<br>(4)附加OllyDbg调试器到子进程。</p>
<h3 id="选择合适的位置"><a href="#选择合适的位置" class="headerlink" title="选择合适的位置"></a>选择合适的位置</h3><p>首先要选择从子进程(被调试进程)的哪一部分开始 调试,尽量选择EP处。我们已经在第一次与第二次调试中分析了程序的EP代码。</p>
<p>子进程(被调试进程)中的加密代码解码后，从代码的起始地址( 401041 )开始调试会比较好，为此，需要先将程序调试运行到父进程相应的代码部分( 解码循环)。首先按Ctrl+F2快捷键重启01lyDbg调试器，在401233地址处设 置断点，然后按F9键运行程序。</p>
<p>记住下图中ReadProcessMemory() API的hProcess参数值(子进程句柄-0x4C),后面的调试会再次用到。接下来的代码对子进程(被调试者)的加密代码解码，前面已经分析过了。</p>
<p><img src="28.png" alt=""><br>继续调试至4012D4地址处 见到调用ContinueDbugEvent()API的代码<br><img src="29.png" alt=""><br>此时，子进程(被调试进程)中的大部分加密代码已经被解码，EIP中的地址值也被修改为401041 (见“第六次调试”)。请各位记住ContinueDebugEvent() API的2个参数值( ThreadId=A18，ProcessId=C14 ),后面调试会再次用到</p>
<h3 id="设置无限循环"><a href="#设置无限循环" class="headerlink" title="设置无限循环"></a>设置无限循环</h3><p>调用ContinueDebugEvent() API后，子进程(被调试进程)就会再次运行，这样就无法将其附加至01lyDbg调试器。因此,需要先在子进程(被调试进程)的代码运行地址处( EIP )设置无限循环。但是，应该采用什么方法才能将指定代码写人子进程(被调试者)内存呢?通过前面的学习我们已经知道，调试器可以随意操作被调试者的内存。调试示例中，子进程(被调试进程)被父进程( 调试器)调试，而父进程又正在被OllyDbg调试器调试，它们之间的关系如下图所示。</p>
<p><img src="30.png" alt=""><br>所以，我们可以先借助OllyDbg向DebugMe4 (父进程)进程编写代码，修改DebugMe4进程(子进程)代码，然后再运行。这一原理用文字叙述起来显得有些复杂，但实际操作非常简单。如图所示，借助O1lyDbg的编辑功能(快捷键Ctrl+E ),向4012D2地址处写人2个字节的无限循环代码( EBFE )。</p>
<p><img src="31.png" alt=""><br>然后向4012D4~4012E4区域写入代码</p>
<h3 id="分离"><a href="#分离" class="headerlink" title="分离"></a>分离</h3><p>2个进程形成“调试器被调试者”关系后，这种关系一一般会持续到其中一个进程终止。 但是从Windows XP系统开始，微软为我们提供了DebugActiveProcessStop( API,借助该API可以将被调试者从调试器中分离出来</p>
<h3 id="附加"><a href="#附加" class="headerlink" title="附加"></a>附加</h3><p>将程序附加到子进程内 恢复刚才设置的无限循环代码</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/23/调试练习3：PE映像切换/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loser">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loser的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/23/调试练习3：PE映像切换/" itemprop="url">调试练习3：PE映像切换</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-23T08:51:06+08:00">
                2019-07-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>先运行某个进程 然后将其虚拟内存中的PE映像切换到另外一个映像 这称为PE映像切换</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/07/23/调试练习3：PE映像切换/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/22/调试练习2：自我创建/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loser">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loser的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/22/调试练习2：自我创建/" itemprop="url">调试练习2：自我创建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-22T08:40:40+08:00">
                2019-07-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>有些应用在运行过程中可以将自身创建为子进程运行 这种方式称为自我创建 相同的可执行文件在以父进程和子进程运行时分别表现不同的行为特征。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/07/22/调试练习2：自我创建/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/20/调试练习1：服务/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="loser">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="loser的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/20/调试练习1：服务/" itemprop="url">调试练习1：服务</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-20T21:01:06+08:00">
                2019-07-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>进行示例程序的调试练习 服务进程调试练习<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/07/20/调试练习1：服务/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </p></div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">loser</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">44</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">loser</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
